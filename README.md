# Frogger-Arduino
  
  ## Summary
  "Frogger" is an arcade game, initially developed by Konami. The player is represented by a dot which is able to move and jump around the map. The map is a 16x8 matrix made out of walls, bonus points and the occasional vehicles.
  
  [Watch YouTube demo](https://www.youtube.com/watch?v=mU8MxvrkBjo&ab_channel=SebastianRichiteanu)
  
  [Introduction to Robotics](https://www.facebook.com/unibuc.robotics) @Unibuc 
  
  ## How to play
  The primary method to control the game is through the joystick.
    
  ### In the menu
  The menus can be navigated using the joystick (left/right/up/down). Pressing the joystick will activate the currently selected item.
  
  
  In the start menu, we have 4 options:
   - Start game
   - About: Information about the game, the creator and a short how to play.
   - Hi-Scores: A list with the top 5 high scores.
   - Settings: Here you can customize the game. For example LCD contrast, brightness, sound, music, and even reset EEPROM **(be careful with this because it will erase all saved memory including settings and high scores).**
  
  ### During the game
  Moving the joystick makes the player move to the corresponding direction.
  
  Pressing the joystick makes the player jump. He can even jump over walls!
  
  Pressing the button will pause the game. Another press will unpause it.
  
  The objective is to move and jump to the finish line, as fast as you can, completing as many levels as possible.
  
  If you get hit by a vehicle, you'll lose one life point.
  
  Along the way you can collect gifts (simple dots) for extra lives, jumps, time. *Disclaimer*: Starting with level 5 the bonus points will disappear after some time.
    
  ## Desing

  ### Hardware
  #### Display / Output
   - The menus and messages are displayed on an **LCD display**, connected to a **330Ω resistor** for the led.
   - The map is displayed on a scrolling (up/down) **8x8 LED matrix** driven by a **MAX7219 driver**, connected to a **100kΩ resistor** and two capacitors 10UF and 100UF.
   - The sound effects and soundtracks are generated by the **Buzzer**, connected to a **100Ω resistor**.
  #### Input
   - Primary input is through the **joystick**.
   - The **button** controls the pause/unpause state.
 
  
  #### Scoring
   - The player's score depends on the **highesest level they reached** but it is also **influenced by difficulty, time left, lives left.**
   - The high score is saved along with the player's name in the EEPROM. When the game ends, the player is shown their final score, and informed if they got a new high score,
  
  ## Implementation
  
  ### Hardware
  <img src="https://user-images.githubusercontent.com/61471997/146675957-872a8e7a-e996-4c87-b837-04b40f29dbe5.jpg" data-canonical-src="https://user-images.githubusercontent.com/61471997/146675957-872a8e7a-e996-4c87-b837-04b40f29dbe5.jpg" width="580" height="750" />


    
  ### File Hierarchy
  
  What follows is an overview of the files and classes used to program the game.
  
   - Frogger-arduino [[ino](Frogger-Arduino.ino)] contains the setup() and loop() entry points.
   - Game states [[h](State.h) / [ino](State.ino)]:
       - Intro state [[h](IntroState.h) / [ino](IntroState.ino)]: The initial game state when turning on the game. This displays a greetings message which can be skipped.
       - Menu states:
          - Start Menu [[h](StartMenuState.h) / [ino](StartMenuState.ino)]: The main menu of the game where we can start the game or navigate to another menu.
          - High Scores Menu [[h](HighScoreMenuState.h) / [ino](HighScoreMenuState.ino)]: The high scores menu where we can see a list with the top 5 scores.
          - Settings Menu [[h](SettingsMenuState.h) / [ino](SettingsMenuState.ino)]: The settings menu where we can change player name, hardware settings and reset the memory.
          - Save Settings Menu [[h](SaveSettingsMenuState.h) / [ino](SaveSettingsMenuState.ino)]: A prompt which asks the player if they want to save the settings or close the menu without saving.
          - About Menu [[h](AboutMenuState.h) / [ino](AboutMenuState.ino)]: The about menu where we can see information about the game and the creator.
        - Starting state [[h](StartingState.h) / [ino](StartingState.ino)]: The state where the map is generated and the player stats are reset if this is a new game.
        - Playing state [[h](PlayingState.h) / [ino](PlayingState.ino)]: The state where the game is played. This state renders the map and take care of the player status (was hit, finished level, etc.)
        - Game over state [[h](GameOverState.h) / [ino](GameOverState.ino)]: The state where the final score is calculated and the player receives feedback.
        - New level state [[h](NewLevelState.h) / [ino](NewLevelState.ino)] The state where the level is increased and the player receives feedback.
      - Hardware [[h](Hardware.h) / [ino](Hardware.ino)]: Information about the hardware (expl: pins, states) but also init and update it:
        - Buzzer [[h](Buzzer.h) / [ino](Buzzer.ino)]: Information about the buzzer and how it plays sounds & soundtracks.
        - Joystick [[h](Joystick.h) / [ino](Joystick.ino)]: Information about the joystick and input checkings.
        - Matrix [[h](Matrix.h) / [ino](Matrix.ino)]: Information about the matrix and set functions, including "effects".
      - Music system:
        - Note Pitches [[h](Pitches.h)]: Defines note pitches. "Inspired" :) from [here](https://www.arduino.cc/en/Tutorial/BuiltInExamples/toneMelody).
        - Melody [[h](Melody.h) / [ino](Melody.ino)]: Defines the soundtracks with notes and tempo.
      - Game world:
        - Player [[h](Player.h) / [ino](Player.ino)]: Get/set player information, check for collisions, game over, finished level, etc.
        - Map [[h](Map.h) / [ino](Map.ino)]: Get/set map information, create/update/remove vehicle, walls & bonus points and takes care of the panning camera.
        - Vehicle [[h](Vehicle.h) / [ino](Vehicle.ino)]: Get/set vehicle information, move and update on the map vehicle location.
        - Score [[h](Score.h) / [ino](Score.ino)]: Get/set score, calculates the score and checks if it is a high score.
      - Saved Data [.h](SavedData.h) / [ino](SavedData.ino)]: Struct with settings and high scores, which is saved to the EEPROM.
      - Settings [[h](Settings.h) / [ino](Settings.ino)]: Store constants about difficulty, player name length, max contrast etc. and also about difficulty multipliers, starting lives by difficulty, etc.
      - Timer [[h](Timer.h) / [ino](Timer.ino)]: Used for debounce.
      - Timer Display [[h](TimerDisplay.h) / [ino](TimerDisplay.ino)]: Increase/decrease, pause/unpause game time.
      - Utility [[h](Utility.h)]: Swap function
      - Bit ops [[h](BitOps.h)]: Wrapper for integral types, adding bit-manipulation operations.
